{"version":3,"sources":["Game.js"],"names":["cc","Class","extends","Component","properties","circlePrefab","default","type","Prefab","touchPointPrefab","scoreDisplay","Label","positionCircle","v2","cantVeces","aux","cantVecesPresiona","arregloSecuencia","onLoad","score","timer","spawnNewCircle","newCircle","instantiate","node","addChild","getNewCirclePosition","setPosition","getComponent","game","randX","randY","maxX","width","maxY","height","Math","random","spawnTouchPoint","newTouchPoint","gainScore","string","gameOver","secuenciaCorrecta","parametro1","push","director","loadScene","update","dt"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,sBAAc;AACVC,qBAAS,IADC;AAEVC,kBAAMP,GAAGQ;AAFC,SADN;AAKRC,0BAAiB;AACbH,qBAAS,IADI;AAEbC,kBAAMP,GAAGQ;AAFI,SALT;AASRE,sBAAa;AACTJ,qBAAQ,IADC;AAETC,kBAAKP,GAAGW;AAFC,SATL;AAaRC,wBAAeZ,GAAGa,EAAH,CAAM,CAAN,EAAQ,CAAR,CAbP;AAcRC,mBAAU,CAdF;AAeRC,aAAI,CAfI;AAgBRC,2BAAkB,CAhBV;AAiBRC,0BAAiB;;AAjBT,KAHP;;AAwBLC,YAAQ,kBAAY;AAChB,aAAKC,KAAL,GAAa,CAAb;AACA,aAAKC,KAAL,GAAa,GAAb;AACA,aAAKC,cAAL;AAIH,KA/BI;;AAiCLA,oBAAgB,0BAAW;AACvB;AACA,YAAIC,YAAYtB,GAAGuB,WAAH,CAAe,KAAKlB,YAApB,CAAhB;AACA;AACA,aAAKmB,IAAL,CAAUC,QAAV,CAAmBH,SAAnB;AACA;AACA,aAAKV,cAAL,GAAsB,KAAKc,oBAAL,EAAtB;AACAJ,kBAAUK,WAAV,CAAsB,KAAKf,cAA3B;AACAU,kBAAUM,YAAV,CAAuB,QAAvB,EAAiCC,IAAjC,GAAwC,IAAxC;AAEH,KA3CI;;AA6CLH,0BAAsB,gCAAY;AAC9B,YAAII,QAAQ,CAAZ;AACA;AACA,YAAIC,QAAQ,CAAZ;AACA;AACA,YAAIC,OAAO,KAAKR,IAAL,CAAUS,KAAV,GAAgB,CAA3B;AACA,YAAIC,OAAO,KAAKV,IAAL,CAAUW,MAAV,GAAiB,CAA5B;AACAL,gBAAQ,CAACM,KAAKC,MAAL,KAAgB,GAAjB,IAAwB,CAAxB,GAA4BL,IAApC;AACAD,gBAAQ,CAACK,KAAKC,MAAL,KAAgB,GAAjB,IAAwB,CAAxB,GAA4BH,IAApC;AACA;AACA,eAAOlC,GAAGa,EAAH,CAAMiB,KAAN,EAAaC,KAAb,CAAP;AACH,KAxDI;AAyDLO,qBAAgB,2BAAU;AACtB,YAAIC,gBAAgBvC,GAAGuB,WAAH,CAAe,KAAKd,gBAApB,CAApB;AACA;AACA,aAAKe,IAAL,CAAUC,QAAV,CAAmBc,aAAnB;AACA;AACAA,sBAAcZ,WAAd,CAA0B,KAAKf,cAA/B;AACA2B,sBAAcX,YAAd,CAA2B,YAA3B,EAAyCC,IAAzC,GAAgD,IAAhD;AACH,KAhEI;AAiELW,eAAW,qBAAY;AACnB,aAAKrB,KAAL,IAAc,CAAd;AACA;AACA,aAAKT,YAAL,CAAkB+B,MAAlB,GAA2B,YAAY,KAAKtB,KAA5C;AACA,YAAG,KAAKA,KAAL,IAAc,CAAjB,EAAmB;AACf,iBAAKuB,QAAL;AACH;AACJ,KAxEI;AAyELC,uBAAkB,2BAASC,UAAT,EAAoB;AAClC,aAAK3B,gBAAL,CAAsB4B,IAAtB,CAA2BD,UAA3B;AACH,KA3EI;AA4ELF,cAAU,oBAAU;AAChB1C,WAAG8C,QAAH,CAAYC,SAAZ,CAAsB,YAAtB;AACH,KA9EI;AA+ELC,YAAQ,gBAASC,EAAT,EAAa;AACjB,aAAK7B,KAAL,IAAa6B,EAAb;AACH;AAjFI,CAAT","file":"Game.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        circlePrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        touchPointPrefab:{\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        scoreDisplay:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        positionCircle:cc.v2(0,0),\r\n        cantVeces:4,\r\n        aux:1,\r\n        cantVecesPresiona:0,\r\n        arregloSecuencia:[],\r\n\r\n    },\r\n\r\n    onLoad: function () {\r\n        this.score = 0;\r\n        this.timer = 0.0;\r\n        this.spawnNewCircle();\r\n      \r\n\r\n       \r\n    },\r\n\r\n    spawnNewCircle: function() {\r\n        // generate a new node in the scene with a preset template\r\n        var newCircle = cc.instantiate(this.circlePrefab);\r\n        // put the newly added node under the Canvas node\r\n        this.node.addChild(newCircle);\r\n        // set up a random position for the circle\r\n        this.positionCircle = this.getNewCirclePosition();\r\n        newCircle.setPosition(this.positionCircle);\r\n        newCircle.getComponent('Circle').game = this;\r\n        \r\n    },\r\n\r\n    getNewCirclePosition: function () {\r\n        var randX = 0;\r\n        // According to the position of the ground level and the main character's jump height, randomly obtain an anchor point of the star on the y axis\r\n        var randY = 0;\r\n        // according to the width of the screen, randomly obtain an anchor point of star on the x axis\r\n        var maxX = this.node.width/2;\r\n        var maxY = this.node.height/2;\r\n        randX = (Math.random() - 0.5) * 2 * maxX;\r\n        randY = (Math.random() - 0.5) * 2 * maxY;\r\n        // return to the anchor point of the star\r\n        return cc.v2(randX, randY);\r\n    },\r\n    spawnTouchPoint:function(){\r\n        var newTouchPoint = cc.instantiate(this.touchPointPrefab);\r\n        // put the newly added node under the Canvas node\r\n        this.node.addChild(newTouchPoint);\r\n        // set up a random position for the circle\r\n        newTouchPoint.setPosition(this.positionCircle);\r\n        newTouchPoint.getComponent('TouchPoint').game = this;\r\n    },\r\n    gainScore: function () {\r\n        this.score += 1;\r\n        // update the words of the scoreDisplay Label\r\n        this.scoreDisplay.string = 'Score: ' + this.score;\r\n        if(this.score == 4){\r\n            this.gameOver();\r\n        }\r\n    },\r\n    secuenciaCorrecta:function(parametro1){\r\n        this.arregloSecuencia.push(parametro1);\r\n    },\r\n    gameOver: function(){\r\n        cc.director.loadScene('movimiento');\r\n    },\r\n    update: function(dt) {\r\n        this.timer +=dt;\r\n    },\r\n});\r\n"]}