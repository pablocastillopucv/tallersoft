{"version":3,"sources":["Game.js"],"names":["cc","Class","extends","Component","properties","circlePrefab","default","type","Prefab","cursorPrefab","touchPointPrefab","touchPointNotificacionPrefab","scoreDisplay","Label","nivelDisplay","horaDisplay","notificacionComida","notificacionTiempo","levelSound","AudioClip","positionCircle","v2","positionNotification","positionTouchpoint","cantVeces","aux","contador","horaNotificacion","minutoNotificacion","horaInicial","minutoInicial","velocidadReloj","tiempoMax","cantVecesPresiona","arregloSecuencia","arregloSecuenciaCorrecta","arregloSecuenciaUsuario","secuenciafinal","onLoad","toques","score","numId","spawnNewCircle","hora","minuto","scheduleOnce","mostrarNotificacionTiempo","spawnTouchPointNotificacion","schedule","mostrarHora","aumentarHora","mostrarNotificacionComida","string","instantiate","node","addChild","setPosition","newCircle","getNewCirclePosition","push","getComponent","game","spawnCircles","i","mostrarsecuencia","randX","randY","posX","posY","elevadox","elevadoy","suma","formula","maxX","width","maxY","height","Math","random","estado","length","index","x","y","console","log","pow","sqrt","spawnTouchPoint","newTouchPoint","newTouchPointNotificacion","eliminarNotificacionComida","notificacion","getChildByName","destroy","eliminarNotificacionTiempo","gainScore","vector1","equals","shift","gameOver","nivel","audioEngine","playEffect","secuenciaPerfecta","update","dt"],"mappings":"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","file":"Game.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        circlePrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        cursorPrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        touchPointPrefab:{\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        touchPointNotificacionPrefab:{\r\n            default: null,\r\n            type:cc.Prefab\r\n        },\r\n        scoreDisplay:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        nivelDisplay:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        horaDisplay:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        notificacionComida:{\r\n            default:null,\r\n            type:cc.Prefab\r\n        },\r\n        notificacionTiempo:{\r\n            default:null,\r\n            type:cc.Prefab\r\n        },\r\n        levelSound:{\r\n            default:null,\r\n            type:cc.AudioClip\r\n        },\r\n        positionCircle:cc.v2(0,0),\r\n        positionNotification:cc.v2(0,0),\r\n        positionTouchpoint:cc.v2(0,0),\r\n        cantVeces:4,\r\n        aux:0,\r\n        contador:0,\r\n        horaNotificacion:0,\r\n        minutoNotificacion:0,\r\n        horaInicial:0,\r\n        minutoInicial:0,\r\n        velocidadReloj:1,\r\n        tiempoMax:30,\r\n        cantVecesPresiona:0,\r\n        arregloSecuencia:[],\r\n        arregloSecuenciaCorrecta:[],\r\n        arregloSecuenciaUsuario:[],\r\n        secuenciafinal:[],\r\n\r\n    },\r\n\r\n    onLoad: function () {\r\n        this.contador = 0;\r\n        this.toques = 0;\r\n        this.score = 0;\r\n        this.numId = 0;\r\n        this.spawnNewCircle();\r\n\r\n        \r\n\r\n        this.hora = this.horaInicial;\r\n        this.minuto = this.minutoInicial;\r\n\r\n        this.scheduleOnce(function() {\r\n            \r\n            this.mostrarNotificacionTiempo();\r\n            this.spawnTouchPointNotificacion();\r\n            \r\n        },this.tiempoMax+1);\r\n\r\n        \r\n\r\n        this.schedule(function() {\r\n\r\n            this.mostrarHora();\r\n            this.aumentarHora();\r\n            if (this.hora==this.horaNotificacion && this.minuto==this.minutoNotificacion+1 && this.contador==0){\r\n\r\n                this.mostrarNotificacionComida();\r\n                this.spawnTouchPointNotificacion();\r\n                this.contador++;\r\n            }\r\n            \r\n        }, this.velocidadReloj);\r\n\r\n        \r\n      \r\n    },\r\n\r\n    aumentarHora: function() {\r\n        \r\n        this.minuto++;\r\n        if(this.minuto == 60){\r\n\r\n            this.minuto = 0;\r\n            this.hora++;\r\n\r\n        }\r\n        if(this.hora>23){\r\n\r\n            this.hora = 0;\r\n\r\n        }\r\n    },\r\n\r\n    mostrarHora: function() {\r\n\r\n        if(this.hora<10 && this.minuto<10){\r\n\r\n            this.horaDisplay.string = '0' + this.hora + ':0' + this.minuto;                \r\n\r\n        }else if(this.hora<10 && this.minuto>=10){\r\n\r\n            this.horaDisplay.string = '0' + this.hora + ':' + this.minuto;                \r\n\r\n        }else if(this.hora>=10 && this.minuto<10){\r\n\r\n            this.horaDisplay.string = this.hora + ':0' + this.minuto;                \r\n\r\n        }else if(this.hora>=10 && this.minuto>=10){\r\n\r\n            this.horaDisplay.string = this.hora + ':' + this.minuto;                \r\n\r\n        }\r\n\r\n    },\r\n\r\n    mostrarNotificacionComida: function() {\r\n\r\n          \r\n        var notificacionComida = cc.instantiate(this.notificacionComida);\r\n        \r\n        this.node.addChild(notificacionComida);\r\n        \r\n        notificacionComida.setPosition(this.positionNotification);\r\n    },\r\n    mostrarNotificacionTiempo: function() {\r\n\r\n        \r\n        var notificacionTiempo = cc.instantiate(this.notificacionTiempo);\r\n        \r\n        this.node.addChild(notificacionTiempo);\r\n        \r\n        notificacionTiempo.setPosition(this.positionNotification);\r\n  },\r\n\r\n    spawnNewCircle: function() {\r\n\r\n        // generate a new node in the scene with a preset template\r\n        var newCircle = cc.instantiate(this.circlePrefab);\r\n        // put the newly added node under the Canvas node\r\n        this.node.addChild(newCircle);\r\n        // set up a random position for the circle\r\n        this.positionCircle = this.getNewCirclePosition();\r\n        this.arregloSecuenciaCorrecta.push(this.positionCircle);\r\n        newCircle.setPosition(this.positionCircle);\r\n        newCircle.getComponent('Circle').game = this;\r\n        this.arregloSecuencia.push(this.positionCircle);\r\n        \r\n    },\r\n\r\n\r\n\r\n\r\n\r\n    spawnCircles: function() {\r\n\r\n        for(var i = 0; i<this.cantVeces;i++){\r\n            // generate a new node in the scene with a preset template\r\n            var newCircle = cc.instantiate(this.cursorPrefab);\r\n            // put the newly added node under the Canvas node\r\n            this.node.addChild(newCircle);\r\n            // set up a random position for the circle\r\n            this.positionCircle = this.arregloSecuencia[i];\r\n            //se llena el arreglo con la secuencia final\r\n            this.secuenciafinal[i]=this.arregloSecuencia[i];\r\n            newCircle.setPosition(this.positionCircle);\r\n            newCircle.getComponent('CircleSecuencia').game = this;\r\n\r\n        }\r\n        this.arregloSecuencia=[];\r\n    },\r\n\r\n    mostrarsecuencia: function(){\r\n\r\n        for (var i=0;i<this.cantVeces;i++){\r\n            var newCircle = cc.instantiate(this.cursorPrefab);\r\n            // put the newly added node under the Canvas node\r\n            this.node.addChild(newCircle);\r\n            this.positionCircle = this.secuenciafinal[i];\r\n            newCircle.setPosition(this.positionCircle);\r\n            newCircle.getComponent('CircleSecuencia').game = this;\r\n        }\r\n\r\n    },\r\n\r\n    getNewCirclePosition: function () {\r\n        while(true){\r\n            var randX = 0;\r\n            var randY=0;\r\n            var posX =0;\r\n            var posY=0;\r\n            var elevadox=0;\r\n            var elevadoy= 0;\r\n            var suma=0;\r\n            var formula=0;\r\n            var maxX = this.node.width/2;\r\n            var maxY = this.node.height/2;\r\n            randX = (Math.random() - 0.5) * 2 * maxX;\r\n            randY = (Math.random() - 0.5) * 2 * maxY;\r\n\r\n            if(randX<0){\r\n                randX+=100;\r\n            }\r\n            if(randX>0){\r\n                randX-=100;\r\n            }\r\n            if(randY<0){\r\n                randY+=100;\r\n            }\r\n            if(randY>0){\r\n                randY-=100;\r\n            }\r\n            var estado=true;\r\n            \r\n            if (this.arregloSecuenciaCorrecta.length ==0) {\r\n                return cc.v2(randX,randY);\r\n            }\r\n            for (let index = 0; index < this.arregloSecuenciaCorrecta.length; index++) {\r\n                posX= this.arregloSecuenciaCorrecta[index].x;\r\n                posY= this.arregloSecuenciaCorrecta[index].y;\r\n                console.log(\"vector de arreglo\"+this.arregloSecuenciaCorrecta[index]);\r\n                console.log(\"posicion del posible ciruclo\"+cc.v2(randX,randY));\r\n                elevadox=  Math.pow((posX-randX),2);\r\n                elevadoy= Math.pow((posY-randY),2);\r\n                suma= elevadox+elevadoy;\r\n                formula= Math.sqrt(suma);\r\n                console.log(formula);\r\n                if (formula<300) {\r\n                    console.log(\"no se cumple\");\r\n                    estado= false;\r\n                    break;\r\n                }\r\n                  \r\n            }\r\n            if (estado== true) {\r\n                console.log(\"circulo a guardar\"+ cc.v2(randX,randY));\r\n                return cc.v2(randX,randY);\r\n            }\r\n\r\n\r\n        }\r\n        \r\n        \r\n       \r\n    },\r\n    spawnTouchPoint:function(){\r\n        var newTouchPoint = cc.instantiate(this.touchPointPrefab);\r\n        // put the newly added node under the Canvas node\r\n        this.node.addChild(newTouchPoint);\r\n        // set up a random position for the circle\r\n        newTouchPoint.setPosition(this.positionCircle);\r\n        newTouchPoint.getComponent('TouchPoint').game = this;\r\n    },\r\n    spawnTouchPointNotificacion:function(){\r\n        var newTouchPointNotificacion = cc.instantiate(this.touchPointNotificacionPrefab);\r\n        // put the newly added node under the Canvas node\r\n        this.node.addChild(newTouchPointNotificacion);\r\n        // set up a random position for the circle\r\n        newTouchPointNotificacion.setPosition(this.positionTouchpoint);\r\n        newTouchPointNotificacion.getComponent('TouchPointNotificacion').game = this;\r\n        \r\n    },\r\n\r\n\r\n    eliminarNotificacionComida:function(){\r\n        \r\n        var notificacion = this.node.getChildByName('Notificacion');\r\n        if (notificacion){\r\n            notificacion.destroy();\r\n        }\r\n        \r\n    },\r\n    eliminarNotificacionTiempo:function(){\r\n\r\n        var notificacion = this.node.getChildByName('notificacionTiempo');\r\n        if (notificacion){\r\n            notificacion.destroy();\r\n        }\r\n    },\r\n\r\n    gainScore: function (vector1) {\r\n            \r\n        \r\n        if(vector1.equals(this.arregloSecuenciaCorrecta[0]) == true){\r\n                this.toques+=1;\r\n                this.arregloSecuenciaCorrecta.shift();\r\n                this.score += 1;\r\n                this.scoreDisplay.string = 'Score: ' + this.score;\r\n                console.log(this.toques);\r\n                if(this.toques < this.cantVeces){\r\n                    return true;\r\n                }\r\n                \r\n        }\r\n        if(this.toques == this.cantVeces){\r\n            this.gameOver();\r\n            this.toques=0;\r\n            return true;\r\n        }\r\n        \r\n        \r\n        \r\n       \r\n    },\r\n    \r\n    gameOver: function(){\r\n        \r\n        this.spawnNewCircle();\r\n        this.aux++;\r\n        if (this.score >= (this.cantVeces*this.cantVeces)){\r\n            this.nivel++;\r\n            this.cantVeces++;\r\n            console.log(this.cantVeces);\r\n            this.nivelDisplay.string = 'Nivel: ' + this.nivel;\r\n            cc.audioEngine.playEffect(this.levelSound, false);\r\n\r\n        }\r\n    },\r\n\r\n    secuenciaPerfecta: function(){\r\n\r\n        \r\n\r\n\r\n    },\r\n\r\n    update: function(dt) {\r\n       \r\n    },\r\n\r\n});\r\n"]}