{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\Game.js"],"names":["cc","Class","extends","Component","properties","circlePrefab","default","type","Prefab","cursorPrefab","distraccionPrefab","touchPointPrefab","presioneAquiPrefab","flechaApuntaArribaPrefab","flechaApuntaAbajoPrefab","touchPointNotificacionPrefab","scoreDisplay","Label","nivelDisplay","horaDisplay","notificacionComida","notificacionTiempo","levelSound","AudioSource","pausaPrefab","nuevoSonidoPrefab","positionCircle","v2","positionNotification","positionTouchpoint","positionPelota","cantVeces","aux","contador","horaNotificacion","minutoNotificacion","horaInicial","minutoInicial","velocidadReloj","tiempoMax","cantVecesPresiona","arregloSecuencia","arregloSecuenciaCorrecta","arregloSecuenciaUsuario","secuenciafinal","nivel","controlFlecha","onLoad","esNotificacionComida","esNotificacionHora","toques","score","numId","spawnNewCircle","destroyFlecha","destroyTexto","hora","minuto","scheduleOnce","schedule","mostrarHora","aumentarHora","string","mostrarNotificacionComida","instantiate","node","addChild","setPosition","spawnTouchPointNotificacion","mostrarNotificacionTiempo","newCircle","getNewCirclePosition","push","getComponent","game","spawnCircles","i","pelota","mostrarsecuencia","randX","randY","posX","posY","elevadox","elevadoy","suma","formula","maxX","width","maxY","height","Math","random","estado","length","index","x","y","pow","sqrt","spawnTouchPoint","newTouchPoint","newTouchPointNotificacion","eliminarNotificacionComida","notificacion","getChildByName","destroy","eliminarNotificacionTiempo","gainScore","vector1","equals","shift","pausaIntermedia","gameOver","play","subidaDeNivel","datosUsuario","sys","localStorage","setItem","JSON","stringify","datosGuardados","parse","getItem","console","log","brindarAyuda","newArrow","text","verificarCirculoCorrecto","vector","update","dt"],"mappings":"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","file":"Game.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        circlePrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        cursorPrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        distraccionPrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        touchPointPrefab:{\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        presioneAquiPrefab:{\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        flechaApuntaArribaPrefab:{\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        flechaApuntaAbajoPrefab:{\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        touchPointNotificacionPrefab:{\r\n            default: null,\r\n            type:cc.Prefab\r\n        },\r\n        scoreDisplay:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        nivelDisplay:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        horaDisplay:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        notificacionComida:{\r\n            default:null,\r\n            type:cc.Prefab\r\n        },\r\n        notificacionTiempo:{\r\n            default:null,\r\n            type:cc.Prefab\r\n        },\r\n        levelSound:{\r\n            default:null,\r\n            type:cc.AudioSource\r\n        },\r\n        pausaPrefab:{\r\n            type: cc.Prefab,\r\n            default: null\r\n        },\r\n        nuevoSonidoPrefab:{\r\n            type: cc.Prefab,\r\n            default: null\r\n        },\r\n        positionCircle:cc.v2(0,0),\r\n        positionNotification:cc.v2(0,0),\r\n        positionTouchpoint:cc.v2(0,0),\r\n        positionPelota:cc.v2(0,0),\r\n        cantVeces:2,\r\n        aux:0,\r\n        contador:0,\r\n        horaNotificacion:0,\r\n        minutoNotificacion:0,\r\n        horaInicial:0,\r\n        minutoInicial:0,\r\n        velocidadReloj:1,\r\n        tiempoMax:30,\r\n        cantVecesPresiona:0,\r\n        arregloSecuencia:[],\r\n        arregloSecuenciaCorrecta:[],\r\n        arregloSecuenciaUsuario:[],\r\n        secuenciafinal:[],\r\n\r\n        nivel:1,\r\n        controlFlecha:0,\r\n        \r\n    },\r\n\r\n    onLoad: function () {\r\n        this.esNotificacionComida = false;\r\n        this.esNotificacionHora = false;\r\n        this.contador = 0;\r\n        this.toques = 0;\r\n        this.score = 0;\r\n        this.numId = 0;\r\n        \r\n        this.spawnNewCircle();\r\n        this.destroyFlecha=false,\r\n        this.destroyTexto=false,\r\n        \r\n\r\n        this.hora = this.horaInicial;\r\n        this.minuto = this.minutoInicial;\r\n\r\n        this.scheduleOnce(function() {\r\n            \r\n            this.esNotificacionHora = true;\r\n            \r\n        },this.tiempoMax+1);\r\n\r\n        \r\n\r\n        this.schedule(function() {\r\n\r\n            this.mostrarHora();\r\n            this.aumentarHora();\r\n            if (this.hora==this.horaNotificacion && this.minuto==this.minutoNotificacion+1 && this.contador==0){\r\n\r\n                this.esNotificacionComida = true;\r\n                this.contador++;\r\n            }\r\n            \r\n        }, this.velocidadReloj);\r\n\r\n       \r\n    },\r\n\r\n    aumentarHora: function() {\r\n        \r\n        this.minuto++;\r\n        if(this.minuto == 60){\r\n\r\n            this.minuto = 0;\r\n            this.hora++;\r\n\r\n        }\r\n        if(this.hora>23){\r\n\r\n            this.hora = 0;\r\n\r\n        }\r\n    },\r\n\r\n    mostrarHora: function() {\r\n\r\n        if(this.hora<10 && this.minuto<10){\r\n\r\n            this.horaDisplay.string = '0' + this.hora + ':0' + this.minuto;                \r\n\r\n        }else if(this.hora<10 && this.minuto>=10){\r\n\r\n            this.horaDisplay.string = '0' + this.hora + ':' + this.minuto;                \r\n\r\n        }else if(this.hora>=10 && this.minuto<10){\r\n\r\n            this.horaDisplay.string = this.hora + ':0' + this.minuto;                \r\n\r\n        }else if(this.hora>=10 && this.minuto>=10){\r\n\r\n            this.horaDisplay.string = this.hora + ':' + this.minuto;                \r\n\r\n        }\r\n\r\n    },\r\n\r\n    mostrarNotificacionComida: function() {\r\n\r\n          \r\n        var notificacionComida = cc.instantiate(this.notificacionComida);\r\n        \r\n        this.node.addChild(notificacionComida);\r\n        \r\n        notificacionComida.setPosition(this.positionNotification);\r\n\r\n        this.spawnTouchPointNotificacion();\r\n    },\r\n    mostrarNotificacionTiempo: function() {\r\n\r\n        \r\n        var notificacionTiempo = cc.instantiate(this.notificacionTiempo);\r\n        \r\n        this.node.addChild(notificacionTiempo);\r\n        \r\n        notificacionTiempo.setPosition(this.positionNotification);\r\n\r\n        this.spawnTouchPointNotificacion();\r\n  },\r\n\r\n    spawnNewCircle: function() {\r\n\r\n        // generate a new node in the scene with a preset template\r\n        var newCircle = cc.instantiate(this.circlePrefab);\r\n        // put the newly added node under the Canvas node\r\n        this.node.addChild(newCircle);\r\n        // set up a random position for the circle\r\n        this.positionCircle = this.getNewCirclePosition();\r\n        this.arregloSecuenciaCorrecta.push(this.positionCircle);\r\n        newCircle.setPosition(this.positionCircle);\r\n        newCircle.getComponent('Circle').game = this;\r\n        this.arregloSecuencia.push(this.positionCircle);\r\n        \r\n    },\r\n\r\n\r\n\r\n\r\n\r\n    spawnCircles: function() {\r\n\r\n        \r\n        for(var i = 0; i<this.cantVeces;i++){\r\n\r\n            // generate a new node in the scene with a preset template\r\n            var newCircle = cc.instantiate(this.cursorPrefab);\r\n            // put the newly added node under the Canvas node\r\n            this.node.addChild(newCircle);\r\n            // set up a random position for the circle\r\n            this.positionCircle = this.arregloSecuencia[i];\r\n            //se llena el arreglo con la secuencia final\r\n            this.secuenciafinal[i]=this.arregloSecuencia[i];\r\n            newCircle.setPosition(this.positionCircle);\r\n            newCircle.getComponent('CircleSecuencia').game = this;\r\n    \r\n        }\r\n        \r\n       \r\n        //limitar la cantidad de distracciones\r\n        if (this.nivel>=3) {\r\n            if (this.nivel>=4){\r\n                for (var i=0;i<(3);i++){\r\n                    var pelota = cc.instantiate(this.distraccionPrefab);\r\n                    this.node.addChild(pelota);\r\n                    this.positionPelota = this.getNewCirclePosition();\r\n                    pelota.setPosition(this.positionPelota);\r\n                    pelota.getComponent('cursorDistraccion').game=this;\r\n                }\r\n            }\r\n\r\n            else{\r\n\r\n                for (var i=0;i<(this.nivel-2);i++){\r\n                    var pelota = cc.instantiate(this.distraccionPrefab);\r\n                    this.node.addChild(pelota);\r\n                    this.positionPelota = this.getNewCirclePosition();\r\n                    pelota.setPosition(this.positionPelota);\r\n                    pelota.getComponent('cursorDistraccion').game=this;\r\n                }\r\n            }\r\n           \r\n        }\r\n\r\n        this.arregloSecuencia=[];\r\n    },\r\n\r\n    mostrarsecuencia: function(){\r\n\r\n        for (var i=0;i<this.cantVeces;i++){\r\n            var newCircle = cc.instantiate(this.cursorPrefab);\r\n            // put the newly added node under the Canvas node\r\n            this.node.addChild(newCircle);\r\n            this.positionCircle = this.secuenciafinal[i];\r\n            newCircle.setPosition(this.positionCircle);\r\n            newCircle.getComponent('CircleSecuencia').game = this;\r\n        }\r\n        \r\n        \r\n\r\n    },\r\n\r\n    getNewCirclePosition: function () {\r\n        while(true){\r\n            var randX = 0;\r\n            var randY=0;\r\n            var posX =0;\r\n            var posY=0;\r\n            var elevadox=0;\r\n            var elevadoy= 0;\r\n            var suma=0;\r\n            var formula=0;\r\n            var maxX = this.node.width/2;\r\n            var maxY = this.node.height/2;\r\n            randX = (Math.random() - 0.5) * 2 * maxX;\r\n            randY = (Math.random() - 0.5) * 2 * maxY;\r\n\r\n            if(randX<0){\r\n                randX+=100;\r\n            }\r\n            if(randX>0){\r\n                randX-=100;\r\n            }\r\n            if(randY<0){\r\n                randY+=100;\r\n            }\r\n            if(randY>0){\r\n                randY-=100;\r\n            }\r\n            var estado=true;\r\n            \r\n            if (this.arregloSecuenciaCorrecta.length ==0) {\r\n                return cc.v2(randX,randY);\r\n            }\r\n            for (let index = 0; index < this.arregloSecuenciaCorrecta.length; index++) {\r\n                posX= this.arregloSecuenciaCorrecta[index].x;\r\n                posY= this.arregloSecuenciaCorrecta[index].y;\r\n              \r\n                elevadox=  Math.pow((posX-randX),2);\r\n                elevadoy= Math.pow((posY-randY),2);\r\n                suma= elevadox+elevadoy;\r\n                formula= Math.sqrt(suma);\r\n                if (formula<200) {\r\n                    estado= false;\r\n                    break;\r\n                }\r\n                  \r\n            }\r\n            if (estado== true) {\r\n                return cc.v2(randX,randY);\r\n            }\r\n\r\n\r\n        }\r\n        \r\n        \r\n       \r\n    },\r\n    spawnTouchPoint:function(){\r\n        var newTouchPoint = cc.instantiate(this.touchPointPrefab);\r\n        // put the newly added node under the Canvas node\r\n        this.node.addChild(newTouchPoint);\r\n        // set up a random position for the circle\r\n        newTouchPoint.setPosition(this.positionCircle);\r\n        newTouchPoint.getComponent('TouchPoint').game = this;\r\n    },\r\n    spawnTouchPointNotificacion:function(){\r\n        var newTouchPointNotificacion = cc.instantiate(this.touchPointNotificacionPrefab);\r\n        // put the newly added node under the Canvas node\r\n        this.node.addChild(newTouchPointNotificacion);\r\n        // set up a random position for the circle\r\n        newTouchPointNotificacion.setPosition(this.positionTouchpoint);\r\n        newTouchPointNotificacion.getComponent('TouchPointNotificacion').game = this;\r\n        \r\n    },\r\n\r\n\r\n    eliminarNotificacionComida:function(){\r\n        \r\n        var notificacion = this.node.getChildByName('Notificacion');\r\n        if (notificacion){\r\n            notificacion.destroy();\r\n        }\r\n        \r\n    },\r\n    eliminarNotificacionTiempo:function(){\r\n\r\n        var notificacion = this.node.getChildByName('notificacionTiempo');\r\n        if (notificacion){\r\n            notificacion.destroy();\r\n        }\r\n    },\r\n\r\n    gainScore: function (vector1) {\r\n            \r\n        \r\n        if(vector1.equals(this.arregloSecuenciaCorrecta[0]) == true){\r\n                this.toques+=1;\r\n                this.arregloSecuenciaCorrecta.shift();\r\n                this.score += 1;\r\n                this.scoreDisplay.string = 'Score: ' + this.score;\r\n                if(this.toques < this.cantVeces){\r\n                    return true;\r\n                }\r\n                \r\n        }\r\n        else{\r\n            this.score-=1;\r\n            if (this.score<1){\r\n                this.score=0;\r\n            }\r\n           \r\n            this.scoreDisplay.string = 'Score: ' + this.score;\r\n            \r\n            return false;\r\n\r\n\r\n\r\n        }\r\n        if(this.toques == this.cantVeces){\r\n\r\n\r\n            var pausaIntermedia = cc.instantiate(this.pausaPrefab);\r\n        \r\n            this.node.addChild(pausaIntermedia);\r\n            \r\n            pausaIntermedia.setPosition(this.positionNotification);\r\n        \r\n            this.scheduleOnce(function(){\r\n\r\n                \r\n                pausaIntermedia.setPosition(999,999,999);\r\n          \r\n            },1);\r\n            \r\n\r\n            \r\n\r\n        \r\n            this.gameOver();\r\n            this.toques=0;\r\n            return true;\r\n       \r\n\r\n            \r\n            \r\n        }\r\n    },\r\n    \r\n    gameOver: function(){\r\n\r\n        //  subir de nivel\r\n        if (this.score >= (Math.pow((this.nivel+1),3))){\r\n            this.nivel++;\r\n            if(this.nivel<4){\r\n\r\n                this.cantVeces++;\r\n\r\n            }\r\n            this.nivelDisplay.string = 'Nivel: ' + this.nivel;\r\n            this.levelSound.play();\r\n\r\n            // Mostrar la nueva secuencia\r\n\r\n            this.scheduleOnce(function(){\r\n\r\n                this.spawnNewCircle();\r\n                this.aux++;  \r\n\r\n            },4)\r\n            \r\n            if (this.esNotificacionHora){\r\n\r\n                this.mostrarNotificacionTiempo;\r\n       \r\n\r\n                this.mostrarNotificacionComida;\r\n\r\n            }\r\n\r\n\r\n            // animacion subida de nivel\r\n\r\n            var subidaDeNivel = cc.instantiate(this.nuevoSonidoPrefab);\r\n        \r\n            this.node.addChild(subidaDeNivel);\r\n            subidaDeNivel.setPosition(999,999,999);\r\n\r\n            \r\n            this.scheduleOnce(function(){\r\n\r\n                subidaDeNivel.setPosition(this.positionNotification);\r\n                this.scheduleOnce(function(){\r\n\r\n                    subidaDeNivel.setPosition(999,999,999);\r\n\r\n                },2);\r\n\r\n            },1.5);\r\n\r\n            \r\n\r\n            //  datos a guardar localmente\r\n            var datosUsuario = {\r\n                nivel: this.nivel,\r\n                score: this.score,\r\n            };\r\n            cc.sys.localStorage.setItem('datosUsuario',JSON.stringify(datosUsuario));\r\n\r\n            //  leer datos guardados \r\n            var datosGuardados = JSON.parse(cc.sys.localStorage.getItem('datosUsuario'));\r\n            console.log(datosGuardados);\r\n\r\n            return;\r\n            \r\n        } else {\r\n\r\n            // Mostrar la nueva secuencia\r\n\r\n            this.scheduleOnce(function(){\r\n\r\n                this.spawnNewCircle();\r\n                this.aux++;  \r\n\r\n            },1)\r\n            if (this.esNotificacionHora){\r\n\r\n                this.mostrarNotificacionTiempo;\r\n\r\n            } else if (this.esNotificacionComida){\r\n\r\n                this.mostrarNotificacionComida;\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n       \r\n\r\n\r\n    },\r\n\r\n    brindarAyuda: function(){\r\n        if (this.nivel == 1) {\r\n            if (this.controlFlecha ==0) {\r\n                var posX =0;\r\n                var posY = 0;\r\n                posX = this.arregloSecuenciaCorrecta[0].x;\r\n                posY = this.arregloSecuenciaCorrecta[0].y;\r\n                if (posY <= -108) { // flecha apuntando hacia abajo\r\n                    var newArrow = cc.instantiate(this.flechaApuntaAbajoPrefab);\r\n                    this.node.addChild(newArrow);\r\n                    posY += 80;\r\n                    newArrow.setPosition(cc.v2(posX,posY));\r\n                    newArrow.getComponent('Arrow').game = this;\r\n                    this.controlFlecha++;\r\n                    var text = cc.instantiate(this.presioneAquiPrefab);\r\n                    this.node.addChild(text);\r\n                    if (posX >= 360 ) {\r\n                        text.setPosition(cc.v2(posX-20,posY+60));\r\n                        text.getComponent('PresioneAqui').game = this;\r\n                    }\r\n                    else if (posX < -360) {\r\n                        text.setPosition(cc.v2(posX+20,posY+60));\r\n                        text.getComponent('PresioneAqui').game = this;\r\n                    }\r\n                    else{\r\n                        text.setPosition(cc.v2(posX,posY+60));\r\n                        text.getComponent('PresioneAqui').game = this;\r\n                    }\r\n                        \r\n                \r\n                }\r\n                else{ // flecha apuntando hacia arriba\r\n                    var newArrow = cc.instantiate(this.flechaApuntaArribaPrefab);\r\n                    this.node.addChild(newArrow);\r\n                    posY = this.arregloSecuenciaCorrecta[0].y-80;\r\n                    newArrow.setPosition(cc.v2(posX,posY));\r\n                    newArrow.getComponent('Arrow').game = this;\r\n                    this.controlFlecha++;\r\n                    var text = cc.instantiate(this.presioneAquiPrefab);\r\n                    this.node.addChild(text);\r\n                    if (posX >= 360 ) {\r\n                        text.setPosition(cc.v2(posX-20,posY-50));\r\n                        text.getComponent('PresioneAqui').game = this;\r\n                    }\r\n                    else if (posX < -360) {\r\n                        text.setPosition(cc.v2(posX+20,posY+60));\r\n                        text.getComponent('PresioneAqui').game = this;\r\n                    }\r\n                    else{\r\n                        text.setPosition(cc.v2(posX,posY-50));\r\n                        text.getComponent('PresioneAqui').game = this;\r\n                    }\r\n                    \r\n                }\r\n            }\r\n        }\r\n            \r\n    },\r\n    verificarCirculoCorrecto:function(vector){\r\n        if (vector.equals(this.arregloSecuenciaCorrecta[0]) == true) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    update: function(dt) {\r\n    },\r\n\r\n});\r\n"]}